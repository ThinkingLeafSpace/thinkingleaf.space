/**
 * 人生周历数据文件
 * 在这里集中管理所有生命事件和重要节点
 */

// 生命阶段数据
const lifeData = [
    // [开始周, 结束周, 地点, 活动, 描述]
    [0, 355, 'ningde', 'none', '出生并成长在宁德'],
    [355, 624, 'ningde', 'school', '在宁德上小学'],
    [624, 667, 'ningde', 'school', '转学后继续小学教育'],
    [667, 875, 'ningde', 'school', '在宁德上初中'],
    [875, 967, 'ningde', 'school', '在宁德上高中'],
    [967, 975, 'beijing', 'travel', '高中毕业后在北京、江浙沪游玩'],
    [975, 1231, 'xiamen', 'college', '在厦门上大学'],
    [1231, getCurrentWeekNumber(), 'nanjing', 'work', '在南京担任视觉设计师']
    // 注意：最后一个阶段到当前日期为止
];

// 获取当前周数（从出生开始计算）
function getCurrentWeekNumber() {
    const birthYear = 2000;
    const currentDate = new Date();
    const currentYear = currentDate.getFullYear();
    const currentWeekOfYear = Math.floor((currentDate - new Date(currentYear, 0, 1)) / (7 * 24 * 60 * 60 * 1000));
    const age = currentYear - birthYear;
    return (age * 52) + currentWeekOfYear;
}

// 重要事件数据
const importantEvents = {
    0: ["出生在宁德", "👶"],
    355: ["开始上小学", "🏫"],
    624: ["小学转学", "🔄"],
    667: ["开始上初中", "📚"],
    875: ["开始上高中", "🎓"],
    967: ["高中毕业，北京江浙沪游玩", "🧳"],
    975: ["厦门上大学，开启新篇章", "🎓"],
    997: ["第一次出国，西班牙学习", "✈️"],
    1157: ["在佛山参观大地艺术节", "🎨"],
    1179: ["人力资源实习生两个月", "💼"],
    1187: ["开始备考心理学研究生", "📚"],
    1214: ["心理学考研失败，重新思考人生", "🤔"],
    1231: ["大学毕业典礼", "🎓"],
    1231: ["在南京入职视觉设计师", "🖌️"],
    1232: ["第一次内观禅修，武夷山东山禅林", "🧘"],
    1235: ["第一次看演唱会，王力宏等", "🎵"],
    1252: ["参加童明老师mapping工作坊", "🗺️"],
    1266: ["参加何志森mapping工作坊", "🧠"],
    1305: ["成功搭建个人博客网站", "🌐"]
    // 在此添加更多重要事件
    // 格式: 周数: ["事件描述", "emoji图标"]
};

// emoji帮助函数
function getEmojiForEvent(description) {
    // 根据关键词自动选择emoji
    const keywordEmojiMap = {
        '出生': '👶',
        '婴儿': '👶',
        '小学': '🏫',
        '学校': '📚',
        '初中': '🏫',
        '高中': '🎓',
        '大学': '🎓',
        '毕业': '🎓',
        '工作': '💼',
        '职业': '💼',
        '旅行': '✈️',
        '旅游': '🧳',
        '国外': '🌍',
        '西班牙': '🇪🇸',
        '演唱会': '🎵',
        '音乐会': '🎵',
        '设计': '🖌️',
        '视觉': '🎨',
        '艺术': '🎨',
        '心理学': '🧠',
        '研究生': '📚',
        '考研': '📝',
        '实习': '💼',
        '禅修': '🧘',
        '内观': '🧘',
        '武夷山': '⛰️',
        '宁德': '🏙️',
        '厦门': '🌊',
        '南京': '🏯',
        '北京': '🏛️',
        '上海': '🌃',
        '佛山': '🏮',
        'mapping': '🗺️',
        '工作坊': '👥',
        '转学': '🔄',
        '结婚': '💍',
        '恋爱': '💕',
        '生日': '🎂',
        '搬家': '🏠',
        '买房': '🏡',
        '运动': '🏃',
        '健身': '💪',
        '创业': '🚀',
        '音乐': '🎵',
        '写作': '✍️',
        '阅读': '📖',
        '电影': '🎬',
        '游戏': '🎮',
        '学习': '📝',
        '研究': '🔍',
        '成就': '🏆',
        '奖项': '🏅',
        '朋友': '👥',
        '家庭': '👨‍👩‍👧‍👦'
    };
    
    // 检查描述中是否包含关键词
    for (const [keyword, emoji] of Object.entries(keywordEmojiMap)) {
        if (description.includes(keyword)) {
            return emoji;
        }
    }
    
    // 默认emoji
    return '📅';
} 