# 博客网站综合维护工具

这是一套用于维护博客网站的综合工具，帮助您自动化处理常见的博客文件维护任务，如路径修复、文件重命名和日期格式修复。

## 工具概述

这套工具包含以下文件：

1. `blog-tools.sh` - 适用于macOS/Linux的综合维护脚本
2. `blog-tools.bat` - 适用于Windows的综合维护脚本
3. `blog_utils.py` - Python实用工具模块（提供高级功能）

## 功能

1. **更新相关内容和修复路径**
   - 修复博客文件中的CSS、JS和图片的相对路径
   - 修复内部链接（如指向首页、其他博客页面的链接）
   - 修复博客文件互相引用的链接，确保包含正确的日期前缀

2. **重命名博客文件**
   - 自动将博客文件重命名为"YYYY-MM-DD-标题.html"格式
   - 从文件内容中智能提取日期信息
   - 支持多种日期提取方式，包括从HTML元素、文本内容和文件名推断

3. **修复博客日期格式**
   - 为缺少日期信息的博客文件添加日期
   - 修复不完整的日期格式
   - 根据文件名中的日期更新文件内容中的日期显示

## 使用方法

### Windows用户

运行`blog-tools.bat`脚本：

1. 双击运行，将显示交互式菜单
2. 或在命令行中使用参数运行：
   ```
   blog-tools.bat [选项]
   ```

   可用选项：
   - `-u` 或 `--update-paths`：更新相关内容和修复路径
   - `-r` 或 `--rename`：重命名博客文件
   - `-f` 或 `--fix-dates`：修复博客日期格式
   - `-a` 或 `--all`：执行所有维护任务
   - `-h` 或 `--help`：显示帮助信息

### macOS/Linux用户

运行`blog-tools.sh`脚本：

1. 在终端中执行以下命令显示交互式菜单：
   ```bash
   ./blog-tools.sh
   ```

2. 或使用参数直接执行特定功能：
   ```bash
   ./blog-tools.sh [选项]
   ```

   可用选项与Windows版本相同。

## 高级用法：Python模块

如果您需要更高级的功能，可以直接使用`blog_utils.py`模块：

```bash
python blog_utils.py [命令]
```

可用命令：
- `rename` - 重命名博客文件
- `fix-dates` - 修复博客日期格式

## 依赖项

- **基本功能**：
  - Windows：需要安装Git for Windows（提供sed工具）
  - macOS/Linux：需要bash和sed（通常已预装）

- **高级功能**（Python模块）：
  - Python 3.6+
  - BeautifulSoup4（可选，用于高级HTML解析）

## 使用场景

1. **添加新博客后**：运行工具确保所有路径和引用正确
2. **修改网站结构后**：修复可能破损的相对路径
3. **整理博客文件**：批量规范化文件名和日期格式

## 注意事项

- 在运行工具前，建议备份您的博客文件
- 对于Windows用户，如果未安装Git，脚本会提示您安装
- 如果您的博客有特殊的结构或命名约定，可能需要修改脚本中的正则表达式

## 自定义

如需自定义工具以适应特定网站结构，可以编辑以下部分：

1. 在Shell脚本中：修改路径修复部分的sed命令和模式
2. 在Python模块中：自定义日期提取逻辑和HTML修复方法

## 更新日志

- 2024-12-02：初始版本，合并了多个维护脚本，提供综合解决方案 