# 🔧 修复GitHub分支配置问题

> 解决GitHub Pages显示旧内容的问题

---

## 🔍 问题诊断

**当前状况：**
- ❌ GitHub仓库的**默认分支**是 `delete`
- ✅ 你的最新内容在 `master` 分支
- ❌ GitHub Pages从默认分支部署，所以显示的是delete的旧内容

**根本原因：**
即使你在GitHub Pages设置中选择了master分支，如果仓库的默认分支还是delete，可能会造成混乱。

---

## ✅ 解决方案

### 方法1：在GitHub网页修改（最简单）

#### 步骤1：修改默认分支

1. 打开浏览器，访问你的仓库：
   ```
   https://github.com/ThinkingLeafSpace/thinkingleaf.space
   ```

2. 点击仓库页面右上角的 **⚙️ Settings（设置）** 按钮

3. 在左侧菜单中找到 **"Branches"（分支）** 选项

4. 在页面顶部找到 **"Default branch"（默认分支）** 部分

5. 点击右侧的 **🔄 Switch to another branch** 按钮

6. 在弹出的分支列表中选择 **`master`**

7. 确认对话框会弹出，点击 **"Update"（更新）**

8. 再次确认（因为这会影响到其他协作者）

#### 步骤2：验证Pages设置

1. 仍在Settings页面

2. 在左侧菜单中找到 **"Pages"** 选项

3. 在 **"Source"（源）** 部分确认：
   - **Branch（分支）** 应该是 **`master`**
   - **Folder（文件夹）** 应该是 **`/ (root)`**

4. 如果不是，请修改并点击 **"Save"（保存）**

#### 步骤3：等待部署

- 等待 **5-10分钟** 让GitHub Pages重新部署
- 刷新你的网站查看效果

---

### 方法2：使用脚本辅助

如果你想先确认问题，可以运行我创建的诊断脚本：

```bash
cd "/Users/qianny/Nutstore Files/ThinkingLeafSpace 20250704com/ThinkingLeafSpace 20250924com"
bash 修复GitHub分支问题.sh
```

这个脚本会：
- ✅ 显示当前所有分支
- ✅ 对比delete和master分支的差异
- ✅ 详细指导你如何修改
- ✅ 可选推送master分支确保同步

---

### 方法3：删除混淆的分支（可选）

修改完默认分支后，建议删除不需要的分支：

```bash
cd "/Users/qianny/Nutstore Files/ThinkingLeafSpace 20250704com/ThinkingLeafSpace 20250924com"
bash 删除分支.sh
```

这会删除：
- `delete` - 旧内容分支
- `gh-pages` - 如果不需要单独部署分支
- `main` - 如果存在
- `ThinkingLeafSpace-V1.1` - 旧版本分支

⚠️ **注意：** 删除分支是不可逆操作，请确认后再执行

---

## ✅ 验证步骤

修改完成后，按以下步骤验证：

### 1. 检查GitHub仓库主页
- 访问：https://github.com/ThinkingLeafSpace/thinkingleaf.space
- 查看仓库名称下方应该显示 **`master`** 而不是 `delete`

### 2. 检查网站内容
- 访问：https://thinkingleaf.space
- 确认显示的是最新内容（如最新的博客文章）

### 3. 检查提交记录
你的最新提交应该是：
```
1c09500 更新博客列表：添加最新文章并修复日期
```

---

## 📝 快速检查清单

- [ ] 在GitHub打开仓库Settings
- [ ] 找到Branches → Default branch
- [ ] 切换默认分支到 `master`
- [ ] 确认Pages设置Source为 `master`
- [ ] 保存所有设置
- [ ] 等待5-10分钟
- [ ] 刷新网站查看效果
- [ ] 检查仓库主页显示master分支
- [ ] （可选）删除不需要的旧分支

---

## 🔄 日常同步

修改完成后，以后同步内容只需要：

```bash
cd "/Users/qianny/Nutstore Files/ThinkingLeafSpace 20250704com/ThinkingLeafSpace 20250924com"
bash git-sync.sh
```

或者使用Obsidian的快速部署功能！

---

## 💡 重要提示

1. **默认分支** 和 **Pages源分支** 可以不同，但保持一致更方便管理

2. **清除缓存**：如果网站没有更新，试试清除浏览器缓存或使用隐私模式

3. **耐心等待**：GitHub Pages部署需要几分钟时间，不要着急

4. **备份重要内容**：修改分支设置前确保重要内容都已推送到master分支

---

完成这些步骤后，你的网站应该就能正常显示最新内容了！🎉

